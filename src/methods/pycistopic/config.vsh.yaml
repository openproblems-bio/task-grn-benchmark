__merge__: ../../api/comp_method.yaml

functionality:
  name: pycistopic
  info:
    label: pycistopic
    summary: "Cis-regulatory topic modeling using pycisTopic"
    description: |
      Cis-regulatory topic modeling using pycisTopic.
    documentation_url: https://pycistopic.readthedocs.io/en/latest/
  arguments:
    - name: --qc
      type: boolean
      description: Whether to perform quality control
      default: False
    # - name: --cell_topic
    #   type: file
    #   example: resources/prior/cell_topic.csv
    #   default: resources/prior/cell_topic.csv
    #   info:
    #     label: Cell topic probability database
    #     summary: "annotation file"
    #     file_type: csv
    #     columns: 
    #       - name: topic
    #         type: string
    #         required: false
    #   required: true
    
  resources:
    - type: python_script
      path: script.py

platforms:
  - type: docker
    image: apassemi/scenicplus:latest
    setup:
      - type: docker
        run: |
          export JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64/
  - type: native
  - type: nextflow
    directives:
      label: [midtime,himem,hicpu]
